# æµ‹è¯•ç”¨ä¾‹æ€»ç»“

## æ¦‚è¿°

æœ¬é¡¹ç›®åŒ…å«äº†å®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹ï¼Œæ‰€æœ‰æµ‹è¯•éƒ½ä½¿ç”¨ `assert condition, message` é£æ ¼çš„æ–­è¨€åˆ¤æ–­ï¼Œç¡®ä¿æ¯ä¸ªåŠŸèƒ½ç‚¹éƒ½æœ‰æ˜ç¡®çš„éªŒè¯ã€‚

## æµ‹è¯•æ–‡ä»¶ç»“æ„

### 1. `test_all_with_assertions.py` - åŸºç¡€åŠŸèƒ½æµ‹è¯•
åŒ…å«æ ¸å¿ƒåŠŸèƒ½çš„æµ‹è¯•ç”¨ä¾‹ï¼š

#### æµ‹è¯•è¦†ç›–èŒƒå›´ï¼š
- âœ… **åŸå§‹DataClassåŠŸèƒ½**
  - `assert site_dict['name'] == 'MySite', "nameå­—æ®µå€¼åº”è¯¥æ˜¯MySite"`
  - `assert name_result == "ALICE", "è‡ªå®šä¹‰get_nameæ–¹æ³•åº”è¯¥è¿”å›å¤§å†™çš„ALICE"`

- âœ… **è£…é¥°å™¨ç‰ˆæœ¬åŠŸèƒ½**
  - `assert 'email' in site_dict, "è£…é¥°å™¨ç‰ˆæœ¬åº”è¯¥åŒ…å«emailå­—æ®µ"`
  - `assert name_result == "ALICE123active", "è£…é¥°å™¨ç‰ˆæœ¬get_nameåº”è¯¥è¿”å›name+statusçš„å¤§å†™å½¢å¼"`

- âœ… **æ­£åˆ™è¡¨è¾¾å¼éªŒè¯**
  - `assert "Value does not match pattern" in str(e), "åº”è¯¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼éªŒè¯é”™è¯¯"`

- âœ… **è‡ªå®šä¹‰éªŒè¯è£…é¥°å™¨**
  - `assert "Name must be at least 3 characters long" in str(e), "åº”è¯¥æ˜¯nameé•¿åº¦éªŒè¯é”™è¯¯"`

- âœ… **dataclasså­—æ®µé‡æ–°èµ‹å€¼**
  - `assert type(api_info.app_site).__name__ == "AppSiteDecorator", "app_siteåº”è¯¥æ˜¯AppSiteDecoratorç±»å‹"`

- âœ… **ListFieldä¸­çš„dataclass**
  - `assert len(api_info.lst) == 2, "lståº”è¯¥åŒ…å«2ä¸ªå…ƒç´ "`

- âœ… **æ— æ•ˆå­—æ®µæ”¯æŒ**
  - `assert 'invalid_field' in site_dict, "to_dict()åº”è¯¥åŒ…å«æ— æ•ˆå­—æ®µ"`

- âœ… **getteræ–¹æ³•ä¸­çš„selfè°ƒç”¨**
  - `assert name_result == "TEST_CUSTOM", "getteræ–¹æ³•ä¸­è°ƒç”¨self.nameåº”è¯¥è¿”å›åŸå§‹å€¼"`

### 2. `test_comprehensive_assertions.py` - å…¨é¢è¾¹ç•Œæµ‹è¯•
åŒ…å«è¾¹ç•Œæƒ…å†µå’Œè¯¦ç»†éªŒè¯ï¼š

#### æµ‹è¯•è¦†ç›–èŒƒå›´ï¼š
- âœ… **å­—æ®µé»˜è®¤å€¼**
  - `assert 'name' in site.__dict__, "__dict__åº”è¯¥åŒ…å«è®¾ç½®çš„nameå­—æ®µ"`

- âœ… **å­—æ®µéªŒè¯è¾¹ç•Œæ¡ä»¶**
  - `assert "Length must be at least 1" in str(e), "åº”è¯¥æ˜¯é•¿åº¦éªŒè¯é”™è¯¯"`
  - `assert len(site.__dict__['name']) == 128, "è¾¹ç•Œé•¿åº¦å­—ç¬¦ä¸²åº”è¯¥è¢«æ¥å—"`

- âœ… **to_dict()æ–¹æ³•å®Œæ•´æ€§**
  - `assert field in site_dict, f"to_dict()åº”è¯¥åŒ…å«{field}å­—æ®µ"`
  - `assert field not in site_dict, f"to_dict()ä¸åº”è¯¥åŒ…å«ç§æœ‰å­—æ®µ{field}"`

- âœ… **åµŒå¥—dataclasséªŒè¯**
  - `assert "Email must end with .com, .org, or .net" in error_msg, "åº”è¯¥æ˜¯é‚®ç®±åŸŸåéªŒè¯é”™è¯¯"`

- âœ… **ListFieldéªŒè¯**
  - `assert len(api_info.lst) == 0, "ç©ºListFieldåº”è¯¥è¢«æ­£ç¡®å¤„ç†"`

- âœ… **getteræ–¹æ³•è¾¹ç•Œæƒ…å†µ**
  - `assert result == "TEST_SAFE", "getteræ–¹æ³•åº”è¯¥æ­£ç¡®å¤„ç†AttributeError"`

- âœ… **ç±»å‹éªŒè¯**
  - `assert isinstance(obj.count, int), "åº”è¯¥ä¿æŒæ•´æ•°ç±»å‹"`

- âœ… **é”™è¯¯ä¿¡æ¯æ¸…æ™°åº¦**
  - `assert has_specific_error, f"é”™è¯¯ä¿¡æ¯åº”è¯¥åŒ…å«å…·ä½“çš„éªŒè¯é”™è¯¯: {error_msg}"`

## è¿è¡Œæµ‹è¯•

### å•ç‹¬è¿è¡Œæµ‹è¯•
```bash
# è¿è¡ŒåŸºç¡€åŠŸèƒ½æµ‹è¯•
python test_all_with_assertions.py

# è¿è¡Œå…¨é¢è¾¹ç•Œæµ‹è¯•
python test_comprehensive_assertions.py
```

### è¿è¡Œæ‰€æœ‰æµ‹è¯•
```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
python run_all_tests.py
```

## æµ‹è¯•ç»“æœ

### æœ€æ–°æµ‹è¯•ç»“æœ
```
ğŸš€ å¼€å§‹è¿è¡Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹...

============================================================
è¿è¡Œ åŸºç¡€åŠŸèƒ½æµ‹è¯•
æ–‡ä»¶: test_all_with_assertions.py
============================================================
âœ… åŸºç¡€åŠŸèƒ½æµ‹è¯• - æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼

============================================================
è¿è¡Œ å…¨é¢è¾¹ç•Œæµ‹è¯•
æ–‡ä»¶: test_comprehensive_assertions.py
============================================================
âœ… å…¨é¢è¾¹ç•Œæµ‹è¯• - æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼

============================================================
æµ‹è¯•æ€»ç»“
============================================================
âœ… é€šè¿‡: 2 ä¸ªæµ‹è¯•æ–‡ä»¶
âŒ å¤±è´¥: 0 ä¸ªæµ‹è¯•æ–‡ä»¶
ğŸ“Š æ€»è®¡: 2 ä¸ªæµ‹è¯•æ–‡ä»¶

ğŸ‰ æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡äº†ï¼ç³»ç»ŸåŠŸèƒ½æ­£å¸¸ï¼
```

## æ–­è¨€é£æ ¼

æ‰€æœ‰æµ‹è¯•éƒ½ä¸¥æ ¼éµå¾ª `assert condition, message` é£æ ¼ï¼š

```python
# âœ… æ­£ç¡®çš„æ–­è¨€é£æ ¼
assert result == expected_value, "å…·ä½“çš„é”™è¯¯æè¿°ä¿¡æ¯"
assert 'field' in data_dict, "å­—æ®µåº”è¯¥å­˜åœ¨äºå­—å…¸ä¸­"
assert isinstance(obj, ExpectedType), "å¯¹è±¡ç±»å‹åº”è¯¥æ­£ç¡®"

# âœ… å¼‚å¸¸æµ‹è¯•çš„æ–­è¨€é£æ ¼
try:
    dangerous_operation()
    assert False, "åº”è¯¥æŠ›å‡ºå¼‚å¸¸ä½†æ²¡æœ‰æŠ›å‡º"
except ExpectedError as e:
    assert "expected message" in str(e), "å¼‚å¸¸ä¿¡æ¯åº”è¯¥åŒ…å«é¢„æœŸå†…å®¹"
```

## æµ‹è¯•è¦†ç›–çš„åŠŸèƒ½ç‚¹

1. **åŸºç¡€dataclassåŠŸèƒ½** - å­—æ®µå®šä¹‰ã€é»˜è®¤å€¼ã€to_dict()
2. **è‡ªå®šä¹‰getteræ–¹æ³•** - get_å‰ç¼€æ–¹æ³•ã€selfè°ƒç”¨æ”¯æŒ
3. **å­—æ®µéªŒè¯** - æ­£åˆ™è¡¨è¾¾å¼ã€è‡ªå®šä¹‰éªŒè¯å™¨ã€è¾¹ç•Œæ¡ä»¶
4. **åµŒå¥—ç»“æ„** - dataclasså­—æ®µã€ListField
5. **é”™è¯¯å¤„ç†** - éªŒè¯é”™è¯¯ã€è·¯å¾„ä¿¡æ¯ã€é”™è¯¯æ¶ˆæ¯
6. **è¾¹ç•Œæƒ…å†µ** - ç©ºå€¼ã€æœ€å¤§æœ€å°é•¿åº¦ã€ç±»å‹éªŒè¯
7. **æ— æ•ˆå­—æ®µ** - æœªå®šä¹‰å­—æ®µçš„å¤„ç†
8. **Python 2å…¼å®¹æ€§** - æ‰€æœ‰åŠŸèƒ½åœ¨Python 2.7ä¸‹æ­£å¸¸å·¥ä½œ

## æ€»ç»“

- ğŸ“Š **æ€»æµ‹è¯•ç”¨ä¾‹æ•°**: 18ä¸ªä¸»è¦æµ‹è¯•å‡½æ•°
- ğŸ¯ **æ–­è¨€æ€»æ•°**: è¶…è¿‡100ä¸ªå…·ä½“æ–­è¨€
- âœ… **é€šè¿‡ç‡**: 100%
- ğŸ”§ **è¦†ç›–èŒƒå›´**: æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ
- ğŸ“ **æ–‡æ¡£åŒ–**: æ¯ä¸ªæ–­è¨€éƒ½æœ‰æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯

æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹éƒ½é€šè¿‡ï¼Œç³»ç»ŸåŠŸèƒ½å®Œæ•´ä¸”ç¨³å®šï¼
